<script>
  const timetable = [
    "05:30","05:40","05:50","06:00","06:10","06:20",
    "06:30","06:40","06:50","07:00","07:10","07:20",
    "07:30","07:40","07:50","08:00","08:15","08:30",
    "08:45","09:00","09:20","09:40","10:00","10:20",
    "17:20","17:45","18:10","18:30","18:50","19:10",
    "23:38","00:38"
  ];

  function getUpcomingTrains() {
    const now = new Date();
    const nowMinutes = now.getHours() * 60 + now.getMinutes();
    const list = document.getElementById("train-list");
    list.innerHTML = '';

    let count = 0;
    timetable.forEach(time => {
      const [h, m] = time.split(':').map(Number);
      let trainMin = h * 60 + m;
      let diff = trainMin - nowMinutes;
      if (diff < 0) diff += 1440;

      if (diff >= 0 && diff <= 25) {
        const li = document.createElement('li');
        li.textContent = `${time} (약 ${diff}분 후)`;
        console.log(`열차: ${time}, 남은분: ${diff}`); // 디버그용
        list.appendChild(li);
        count++;
      }
    });

    if (!count) {
      const li = document.createElement('li');
      li.textContent = '25분 내 출발하는 GTX-A 열차가 없습니다.';
      li.className = 'no-train';
      list.appendChild(li);
    }
  }

  getUpcomingTrains();
  setInterval(getUpcomingTrains, 60000);
</script>
